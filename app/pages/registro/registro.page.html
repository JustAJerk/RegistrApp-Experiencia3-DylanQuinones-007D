<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-buttons slot="start">
        <ion-back-button defaultHref="/" text="Volver" color="warning"></ion-back-button>
      </ion-buttons>
    </ion-buttons>
    <img src="assets/temporal_logo.png" alt="">
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Registro</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-card color="primary">
    <ion-card-header>
      <ion-card-title>Crear cuenta</ion-card-title>
    </ion-card-header>
    <ion-card-content class="fondoRegister">
      <form [formGroup]="registroForm">
        <!-- Rut del usuario -->
        <ion-item>
          <ion-label position="floating" class="formTexto">Rut: </ion-label>
          <ion-input type="text" placeholder="123456789-K" formControlName="rut"></ion-input>
        </ion-item>
        <div *ngIf="registroForm.get('rut')?.invalid && (registroForm.get('rut')?.dirty || registroForm.get('rut')?.touched)">
          <div style="color:red" *ngIf="registroForm.get('rut')?.hasError('required')">
            Rut es obligatorio!
          </div>
          <div style="color:red" *ngIf="registroForm.get('rut')?.hasError('minlength')">
            ¡Rut debe tener minimo 10 caracteres!
          </div>
        </div>
        <!-- Nombre del usuario -->
        <ion-item>
          <ion-label position="floating" class="formTexto">Nombre: </ion-label>
          <ion-input type="text" placeholder="Valentina Ausky" formControlName="username"></ion-input>
        </ion-item>

        <div *ngIf="registroForm.get('username')?.invalid && (registroForm.get('username')?.dirty || registroForm.get('username')?.touched)">
          <div style="color:red" *ngIf="registroForm.get('username')?.hasError('required')">
            ¡Username es obligatorio!
          </div>
          <div style="color:red" *ngIf="registroForm.get('username')?.hasError('minlength')">
            ¡Username debe tener minimo 3 caracteres!
          </div>
        </div>
        <!-- Correo del usuario -->
        <ion-item>
          <ion-label position="floating" class="formTexto">Correo electronico: </ion-label>
          <ion-input type="email" placeholder="valentinaAU@gmail.cl" formControlName="correo"></ion-input>
        </ion-item>
        <div *ngIf="registroForm.get('correo')?.invalid && (registroForm.get('correo')?.dirty || registroForm.get('correo')?.touched)">
          <div style="color:red" *ngIf="registroForm.get('correo')?.hasError('required')">
            ¡Correo es obligatorio!
          </div>
        </div>
        <!-- Clave del usuario -->
        <ion-item>
          <ion-label position="floating" class="formTexto">Contraseña: </ion-label>
          <ion-input type="password" placeholder="PMH1234" formControlName="password"></ion-input>
        </ion-item>

        <div style="color:red" *ngIf="registroForm.get('password')?.invalid && (registroForm.get('password')?.dirty || registroForm.get('password')?.touched)">
          <div *ngIf="registroForm.get('password')?.hasError('required')">
            ¡Password es obligatoria!
          </div>
          <div style="color:red" *ngIf="registroForm.get('password')?.hasError('minlength')">
            ¡Password debe tener minimo 4 caracteres!
          </div>
        </div>
        <ion-item>
          <ion-label position="floating" class="formTexto">Confirmar contraseña: </ion-label>
          <ion-input type="password" placeholder="PMH1234" formControlName="password"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating" class="formTexto">Rol: </ion-label>
          <ion-select aria-label="fruit" placeholder="Seleccione rol..." formControlName="role">
            <ion-select-option value="usuario">Alumno</ion-select-option>
            <ion-select-option value="docente">Docente</ion-select-option>
          </ion-select>
        </ion-item>
        <br>
        <!-- Boton para enviar -->
        <ion-button (click)="registrarUsuario()" expand="block" fill="outline" shape="round" color="warning">
          Crear cuenta
        </ion-button>
      </form>
    </ion-card-content>
  </ion-card>
</ion-content>
